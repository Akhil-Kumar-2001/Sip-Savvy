 <!-- shop section -->


 <style>
    .product-sort{
        display: flex;
        justify-content: end;
        margin-right: 10rem;
        height: 2.5rem;
    }
    .product-sort select{
        width: 20%;
        background: white;
        /* color: #fefeeb; */
        border-radius: 5px;
    }
    .product-icon{
        font-size: 1.5rem;

     
        
    }
    .product-product img{
        width: 10rem;
    }
 
    .product-new-arrival{ 
    top: 0;
    left: 0;
    background-color: rgb(248, 180, 7);
    background-color: rgb(252, 171, 58);
    color: white;
    width: 6rem;

    }
    .product-image-size {
    width: 200px; /* Set the desired width */
    height: 250px; /* Set the desired height */
    object-fit: cover; /* Ensures the image covers the container without distortion */
}
    
 </style>

<%- include('navbar') %>

<div class="home-container">
    <h1 class="home-title"> <%= title %> </h1
        <%- include('filter') %>
        
<!-- 
     <div class="product-sort mb-3">
        <select name="sort-box" class="sort-box" onchange="sortbyCategory('<%= title %>')">
            <option selected>Sort By</option>
            <option value="1">Product Name Aa - Zz</option>
            <option value="2">Product Name Zz - Aa</option>
            <option value="3">Price low - high</option>
            <option value="4">Price high - low</option>
            <option value="5">New arrival</option>
        </select>
    </div> -->
     <!-- <p class="home-all-products">See all  ></p> -->
     
    <div class="home-products">

            <% product.forEach((product) => { %>     
                    <div class="home-product" data-aos="zoom-in-right">
                 <% if(new Date(product.createdAt).getTime() > (Date.now() - (10 * 24 * 60 * 60 * 1000))) { %>
          
                 <div class="product-new-arrival">
                      <h6 class="ms-1">New Arrival</h6>
                  </div>
             
                 <% } else if (product.productDiscount != 0) { %>
                <div class="product-new-arrival">
                    <h6 class="ms-1">
                 <%= product.productDiscount %> &percnt; OFF
                    </h6>
                </div>
                 <% } %>

             <div class="product-image">
                 <a href="/productDetail/<%= product.id %>" class="product-name-link">
                     <img src="/<%= product.productImage[0] %>" alt="" class="product-image-size">
                 </a>
             </div>
            <p class="home-product-name">
                <%= product.productName %>
            </p>
            <p class="home-product-price">
                <i class="bi bi-currency-rupee"></i>
                <%= product.productPrice.toLocaleString() %>
            </p>
            <div class="home-cart-icon">
                <i class="bi bi-heart product-icon"></i>
                <!-- <i class="bi bi-cart-fill product-icon ms-3"></i> -->
                <a onclick="addToCart('<%= product.id %>','<%= product.productPrice %>','<%=user %>')"
                    class="cart-icon"><i class="bi bi-cart-fill product-icon ms-3 text-black"></i></a>
            
            </div>
            
        </div>  
        <% } ) %>
    </div>
</div>

<%- include('footer') %>


<script>
    function sortbyCategory(params){
        const sortBoxValue = document.getElementsByName('sort-box')[0].value
        let location;
        if(params)
        {
            location =`?sortby=${sortBoxValue}`
        }
        window.location.href=`/allproduct/${location}`
    }
</script>
